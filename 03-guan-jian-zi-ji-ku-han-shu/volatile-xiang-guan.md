---
description: 面试高频指数：★★☆☆☆
---

# volatile相关

### volatile具有原子性吗？

* volatile 的作用：当对象的值可能在程序的控制或检测之外被改变时，应该将该对象声明为 violatile，告知编译器不应对这样的对象进行优化。**volatile不具有原子性**。
* volatile 对编译器的影响：使用该关键字后，编译器不会对相应的对象进行优化，即不会将变量从内存缓存到寄存器中，防止多个线程有可能使用内存中的变量，有可能使用寄存器中的变量，从而导致程序错误。

#### 什么情况下一定要用 volatile， 能否和 const 一起使用？

* 当多个线程都会用到某一变量，并且该变量的值有可能发生改变时，需要用 `volatile`关键字对该变量进行修饰； 
* 中断服务程序中访问的变量或并行设备的硬件寄存器的变量，最好用 `volatile`关键字修饰。
*  `volatile` 关键字和 `const` 关键字可以同时使用，某种类型可以既是 `volatile` 又是 `const` ，同时具有二者的属性



